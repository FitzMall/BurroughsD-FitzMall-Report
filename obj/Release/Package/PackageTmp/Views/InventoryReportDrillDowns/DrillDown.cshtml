@model IEnumerable<WebApplication6.Models.InventoryReportDrillDown>

@{
    int counter = 0;
    bool IsNew = false;
    IsNew = (ViewBag.PriceTitle == "MSRP");
    string thisPriceTitle = ViewBag.PriceTitle;

    // for sorting
    string thisviewSortOrder = ViewBag.SortOrder;

}
<link href="\Content\tableStyle.css" rel="stylesheet" type="text/css" sizes="">

<h2>@ViewBag.Title</h2>

@counter

<table class="table" style="position: sticky; top: 80px" id="reportheaders">
    <thead class="thead">

        <tr>
            <th>
                VIN
            </th>
            <th>

                @{ if (thisviewSortOrder != "StockNum_Descending")
                    {
                        @Html.ActionLink("Stock#", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "StockNum_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Stock#", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "StockNum" })
                    }
                }
            </th>
            <th>
                Status
            </th>
            <th>
                @{ if (thisviewSortOrder != "Year_Descending")
                    {
                        @Html.ActionLink("Year", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Year_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Year", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Year" })
                    }
                }
            </th>
            <th>
                Make
            </th>
            <th>
                @{ if (thisviewSortOrder != "Model_Descending")
                    {
                        @Html.ActionLink("Model", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Model_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Model", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Model" })
                    }
                }
            </th>
            <th>
                @{ if (thisviewSortOrder != "Color_Descending")
                    {
                        @Html.ActionLink("Color", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Color_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Color", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Color" })
                    }
                }
            </th>
            <th>
                @{ if (thisviewSortOrder != "Chrome_Descending")
                    {
                        @Html.ActionLink("Chrome", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Chrome_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Chrome", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "Chrome" })
                    }
                }
            </th>
            <th>
                @{ if (thisviewSortOrder != "MSRP_Descending")
                    {
                        @Html.ActionLink(thisPriceTitle, "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "MSRP_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink(thisPriceTitle, "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "MSRP" })
                    }
                }
            </th>
            <th>
                @{ if (thisviewSortOrder != "DaysInStock_Descending")
                    {
                        @Html.ActionLink("Days In Stock", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "DaysInStock_Descending" })
                    }
                    else
                    {
                        @Html.ActionLink("Days In Stock", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = ViewBag.NewOrUsed, sortOrder = "DaysInStock" })
                    }
                }

            </th>
        </tr>
    </thead>
</table>

<table class="table" style="font-size: 90%">
    @foreach (var item in Model)
    {
        counter++;
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.SERIAL_)

            </td>
            <td>
                @Html.DisplayFor(modelItem => item.STOCK_)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.STAT_CODE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.YEAR)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.MAKE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CARLINE)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.COLOR_DESC)
            </td>
            <td @if (item.ChromeStyleID.Value == 0) { <text> style="background-color:silver;" </text> }>
                @if (item.ChromeStyleID.Value > 0)
                {
                    @Html.DisplayFor(modelItem => item.ChromeStyleID)
                }
                else
                {
                    @("------");
                }
            </td>
            <td @if (item.MSRP.Value == 0) { <text> style="background-color:silver;" </text> }>
                @Html.DisplayFor(modelItem => item.MSRP)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DAYS_IN_STOCK)
            </td>

        </tr>

    }

</table>
