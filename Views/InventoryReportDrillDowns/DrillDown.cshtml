@model IEnumerable<WebApplication6.Models.InventoryReportDrillDown>

@{
    int counter = 0;
    bool IsNew = false;
    IsNew = (ViewBag.PriceTitle == "MSRP");
    string thisPriceTitle = ViewBag.PriceTitle;

    // for sorting
    string thisviewSortOrder = ViewBag.SortOrder;

}
<link href="\Content\tableStyle.css" rel="stylesheet" type="text/css" sizes="">

<h2>@ViewBag.Title</h2>
<input type="button" value="Back To List" onclick="history.back()">

<table class="table" width=30 % height=30 align=left>

    <tr>
        <th>
            VIN
        </th>
        <th>
            Stock#
        </th>
        <th>
            Status
        </th>
        <th>
            Year
        </th>
        <th>
            Make
        </th>
        <th>
            Model
        </th>
        <th>
            Color
        </th>
        <th>
            Chrome
        </th>
        <th>
            @{ if (thisviewSortOrder != "MSRP_Descending")
                {
                    @Html.ActionLink(thisPriceTitle, "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = "N", sortOrder = "MSRP_Descending" })
                }
                else
                {
                    @Html.ActionLink(thisPriceTitle, "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = "N", sortOrder = "MSRP" })
                }
            }
        </th>
        <th>
            @{ if (thisviewSortOrder != "DaysInStock_Descending")
                {
                    @Html.ActionLink("Days In Stock", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = "N", sortOrder = "DaysInStock_Descending" })
                }
                else
                {
                    @Html.ActionLink("Days In Stock", "DrillDown", new { Make = ViewBag.Make.ToUpper(), StoreBranch = ViewBag.StoreBranch, StatusCode = ViewBag.parStatusCode, NewOrUsed = "N", sortOrder = "DaysInStock" })
                }
            }

        </th>
    </tr>

    @foreach (var item in Model)
    {
        counter++;
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.SERIAL_)

        </td>
        <td>
            @Html.DisplayFor(modelItem => item.STOCK_)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.STAT_CODE)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.YEAR)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MAKE)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CARLINE)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.COLOR_DESC)
        </td>
        <td @if (item.ChromeStyleID.Value == 0) { <text> style="background-color:silver;" </text> }>
            @if (item.ChromeStyleID.Value > 0)
            {
                @Html.DisplayFor(modelItem => item.ChromeStyleID)
            }
            else
            {
                @("------");
            }
        </td>
        <td @if (item.MSRP.Value == 0) { <text> style="background-color:silver;" </text> }>
            @Html.DisplayFor(modelItem => item.MSRP)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DAYS_IN_STOCK)
        </td>

    </tr>
        
    }

    @counter


</table>
